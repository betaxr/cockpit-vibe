import { cn } from "@/lib/utils";

interface FullBodyAgentProps {
  className?: string;
  fillColor?: string;
  outlineColor?: string;
  fillLevel?: number; // 0-100 percentage
  size?: "sm" | "md" | "lg";
}

export function FullBodyAgent({ 
  className, 
  fillColor = "var(--color-primary)",
  outlineColor = "var(--color-primary)",
  fillLevel = 100,
  size = "md" 
}: FullBodyAgentProps) {
  const sizeClasses = {
    sm: "h-32",
    md: "h-48",
    lg: "h-64"
  };

  // Calculate clip path based on fill level (bottom to top)
  const clipY = 927 * (1 - fillLevel / 100);

  return (
    <div className={cn("relative", sizeClasses[size], className)}>
      {/* Outline/Background */}
      <svg 
        viewBox="0 0 230.709 927" 
        className="absolute inset-0 w-full h-full"
        style={{ opacity: 0.2 }}
      >
        <path 
          fill={outlineColor}
          d="M230.692,463.694,224.9,341.831a8.06,8.06,0,0,0-.457-2.19,9.619,9.619,0,0,0,.085-2.839L207.8,176.172c-.722-5.876-6.673-10.025-13.224-9.22,0,0-56.1-9.942-62.551-12.179l.253-19.631A50.7,50.7,0,0,0,166.069,89h.038V50.5A50.648,50.648,0,0,0,115.608,0h0a50.649,50.649,0,0,0-50.5,50.5V89h.039a50.7,50.7,0,0,0,33.788,46.142l.253,19.631c-6.453,2.237-63.058,12.179-63.058,12.179-6.55-.8-12.5,3.344-13.223,9.22L6.179,336.8a9.652,9.652,0,0,0,.086,2.839,8.061,8.061,0,0,0-.458,2.19L.016,463.694a8.157,8.157,0,0,0,7.6,8.637l4.057.26A8.155,8.155,0,0,0,20.305,465l14.5-120.44c.013-.2.01-.4.008-.6.587-1.066,16.8-113.838,16.8-113.838v18.319c0,8.753,19.893,106.913,19.893,106.913-10.06,9.247-32.711,57.227-32.711,73.47v28.362c0,.686.026,1.366.065,2.042a9.294,9.294,0,0,0-.062,1.262L49.814,677.268c.02.842-.044,5.424.079,6.972L72.051,912.889a15.526,15.526,0,0,0,16.727,14.064l7.754-.6a15.433,15.433,0,0,0,14.29-16.462L105.54,681.815a9.921,9.921,0,0,0,1.649-5.606L107.574,492h14.512l.384,184.209a9.914,9.914,0,0,0,1.65,5.606l-5.283,228.076a15.433,15.433,0,0,0,14.29,16.462l7.754.6a15.528,15.528,0,0,0,16.728-14.064L179.766,684.24c.124-1.548.059-6.13.08-6.972l10.773-211.9a34.6,34.6,0,0,0,.988-8.192V428.819c0-15.953-22.832-64.223-32.892-73.47,0,0,20.892-98.16,20.892-106.913V233.688s15.706,109.2,16.293,110.267c0,.2,0,.4.008.6L210.4,465a8.156,8.156,0,0,0,8.637,7.594l4.058-.26a8.156,8.156,0,0,0,7.594-8.637"
        />
      </svg>
      
      {/* Filled portion */}
      <svg 
        viewBox="0 0 230.709 927" 
        className="absolute inset-0 w-full h-full"
      >
        <defs>
          <clipPath id={`fill-clip-${fillLevel}`}>
            <rect x="0" y={clipY} width="230.709" height={927 - clipY} />
          </clipPath>
        </defs>
        <g clipPath={`url(#fill-clip-${fillLevel})`}>
          <path 
            fill={fillColor}
            d="M230.692,463.694,224.9,341.831a8.06,8.06,0,0,0-.457-2.19,9.619,9.619,0,0,0,.085-2.839L207.8,176.172c-.722-5.876-6.673-10.025-13.224-9.22,0,0-56.1-9.942-62.551-12.179l.253-19.631A50.7,50.7,0,0,0,166.069,89h.038V50.5A50.648,50.648,0,0,0,115.608,0h0a50.649,50.649,0,0,0-50.5,50.5V89h.039a50.7,50.7,0,0,0,33.788,46.142l.253,19.631c-6.453,2.237-63.058,12.179-63.058,12.179-6.55-.8-12.5,3.344-13.223,9.22L6.179,336.8a9.652,9.652,0,0,0,.086,2.839,8.061,8.061,0,0,0-.458,2.19L.016,463.694a8.157,8.157,0,0,0,7.6,8.637l4.057.26A8.155,8.155,0,0,0,20.305,465l14.5-120.44c.013-.2.01-.4.008-.6.587-1.066,16.8-113.838,16.8-113.838v18.319c0,8.753,19.893,106.913,19.893,106.913-10.06,9.247-32.711,57.227-32.711,73.47v28.362c0,.686.026,1.366.065,2.042a9.294,9.294,0,0,0-.062,1.262L49.814,677.268c.02.842-.044,5.424.079,6.972L72.051,912.889a15.526,15.526,0,0,0,16.727,14.064l7.754-.6a15.433,15.433,0,0,0,14.29-16.462L105.54,681.815a9.921,9.921,0,0,0,1.649-5.606L107.574,492h14.512l.384,184.209a9.914,9.914,0,0,0,1.65,5.606l-5.283,228.076a15.433,15.433,0,0,0,14.29,16.462l7.754.6a15.528,15.528,0,0,0,16.728-14.064L179.766,684.24c.124-1.548.059-6.13.08-6.972l10.773-211.9a34.6,34.6,0,0,0,.988-8.192V428.819c0-15.953-22.832-64.223-32.892-73.47,0,0,20.892-98.16,20.892-106.913V233.688s15.706,109.2,16.293,110.267c0,.2,0,.4.008.6L210.4,465a8.156,8.156,0,0,0,8.637,7.594l4.058-.26a8.156,8.156,0,0,0,7.594-8.637"
          />
        </g>
      </svg>
    </div>
  );
}
